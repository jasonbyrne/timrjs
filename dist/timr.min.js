/* TimrJS v0.6.1 | (c) 2016 Joe Smith | https://github.com/joesmith100/timrjs/blob/master/LICENSE */
;(function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t;else if("function"==typeof define&&define.amd)define("timrjs",[],function(){return t});else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,e.Timr=t}})(function t(e,r,n){function i(o,u){if(!r[o]){if(!e[o]){var f="function"==typeof require&&require;if(!u&&f)return f(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var a=r[o]={exports:{}};e[o][0].call(a.exports,function(t){var r=e[o][1][t];return i(r?r:t)},a,a.exports,t,e,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("events"),f=t("./createStartTime"),c=t("./buildOptions"),a=t("./zeroPad"),l=t("./errors"),h=t("./countdown"),p=t("./stopwatch"),v=t("./store").removeFromStore;e.exports=function(t){function e(t,r){n(this,e);var s=i(this,Object.getPrototypeOf(e).call(this));return s.timer=null,s.running=!1,s.options=c(r),s.startTime=f(t),s.currentTime=s.startTime,s}return s(e,t),o(e,[{key:"start",value:function(){return this.running?console.warn("Timer already running"):(this.running=!0,this.startTime>0?this.timer=setInterval(h.bind(this,this),1e3):this.timer=setInterval(p.bind(this,this),1e3)),this}},{key:"pause",value:function(){return this.clear(),this}},{key:"stop",value:function(){return this.clear(),this.currentTime=this.startTime,this}},{key:"clear",value:function(){return clearInterval(this.timer),this.running=!1,this}},{key:"destroy",value:function(){return this.clear().removeAllListeners(),v(this),this}},{key:"ticker",value:function(t){if("function"!=typeof t)throw l(t)("ticker");return this.on("ticker",t),this}},{key:"finish",value:function(t){if("function"!=typeof t)throw l(t)("finish");return this.on("finish",t),this}},{key:"formatTime",value:function(){var t=this.currentTime,e=t/60,r=this.options.outputFormat,n=this.options.separator;if(e>=1){var i=e/60;return e=Math.floor(e),i>=1?(i=Math.floor(i),a(""+i+n+(e-60*i)+n+(t-60*e))):a(""+("HH:MM:SS"===r?"0"+n:"")+e+n+(t-60*e))}return a(""+("HH:MM:SS"===r?"0"+n+"0"+n:"MM:SS"===r?"0"+n:"")+t)}},{key:"percentDone",value:function(){return 100-Math.round(this.currentTime/this.startTime*100)}},{key:"setStartTime",value:function(t){return this.clear(),this.startTime=this.currentTime=f(t),this.formatTime()}},{key:"getStartTime",value:function(){return this.startTime}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"isRunning",value:function(){return this.running}}]),e}(u)},{"./buildOptions":2,"./countdown":3,"./createStartTime":4,"./errors":5,"./stopwatch":8,"./store":9,"./zeroPad":12,events:13}],2:[function(t,e,r){"use strict";var n=function(e,r){var n=t("./errors")(r);switch(e){case"outputFormat":if("string"!=typeof r)throw n("outputFormatType");if("HH:MM:SS"!==r&&"MM:SS"!==r&&"SS"!==r)throw n("invalidOutputFormat");case"separator":if("string"!=typeof r)throw n("separatorType")}};e.exports=function(t){var e={outputFormat:"MM:SS",separator:":"};if(t)for(var r in t)n(r,t[r]),e[r]=t[r];return e}},{"./errors":5}],3:[function(t,e,r){"use strict";e.exports=function(t){t.currentTime-=1,t.emit("ticker",t.formatTime(),t.percentDone(),t.currentTime,t.startTime,t),t.currentTime<=0&&(t.stop(),t.emit("finish",t))}},{}],4:[function(t,e,r){"use strict";var n=t("./timeToSeconds"),i=t("./validate");e.exports=function(t){return i(t),"number"==typeof t?t:n(t)}},{"./timeToSeconds":10,"./validate":11}],5:[function(t,e,r){"use strict";"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.exports=function(t){return function(t){return new Error("Minified exception occured; use non-minified dev enviroment for full message.")}}},{}],6:[function(t,e,r){"use strict";e.exports=function(t){return t.split(":").some(function(t,e,r){return 0>+t||+t>(3===r.length&&0===e?23:59)||isNaN(+t)})}},{}],7:[function(t,e,r){"use strict";var n=t("./Timr"),i=t("./store"),s=function o(t,e){var r=new n(t,e);if(e){if(e.store)return i(r);if(e.store===!1)return r}return o.store?i(r):r};s.validate=t("./validate"),s.timeToSeconds=t("./timeToSeconds"),s.incorrectFormat=t("./incorrectFormat"),s.store=!1,s.destroyAll=i.destroyAll,s.isRunning=i.isRunning,s.startAll=i.startAll,s.pauseAll=i.pauseAll,s.stopAll=i.stopAll,e.exports=s},{"./Timr":1,"./incorrectFormat":6,"./store":9,"./timeToSeconds":10,"./validate":11}],8:[function(t,e,r){"use strict";e.exports=function(t){t.currentTime+=1,t.emit("ticker",t.formatTime(),t.currentTime)}},{}],9:[function(t,e,r){"use strict";var n=[],i=function(t){return n.push(t),t};i.startAll=function(){return n.forEach(function(t){return t.start()})},i.pauseAll=function(){return n.forEach(function(t){return t.pause()})},i.stopAll=function(){return n.forEach(function(t){return t.stop()})},i.getAll=function(){return n},i.isRunning=function(){return n.filter(function(t){return t.isRunning()})},i.destroyAll=function(){n.forEach(function(t){return t.destroy()}),n=[]},i.removeFromStore=function(t){n=n.filter(function(e){return e!==t})},e.exports=i},{}],10:[function(t,e,r){"use strict";e.exports=function(t){return t.split(":").reduce(function(t,e,r,n){if(3===n.length){if(0===r)return t+60*+e*60;if(1===r)return t+60*+e}return 2===n.length&&0===r?t+60*+e:t+ +e},0)}},{}],11:[function(t,e,r){"use strict";var n=t("./incorrectFormat");e.exports=function(e){var r=t("./errors")(e);if("string"==typeof e){if(0>+e||isNaN(+e)&&n(e))throw r("invalidTime")}else if("number"!=typeof e||isNaN(e))throw r("invalidTimeType");if(+e>86399)throw r("timeOverADay");return e}},{"./errors":5,"./incorrectFormat":6}],12:[function(t,e,r){"use strict";e.exports=function(t){return t.replace(/\d+/g,function(t){return 10>+t?"0"+t:t})}},{}],13:[function(t,e,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function s(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!s(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,r,n,s,f,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[t],u(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(o(r))for(s=Array.prototype.slice.call(arguments,1),c=r.slice(),n=c.length,f=0;n>f;f++)c[f].apply(this,s);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(r=u(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var n=!1;return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var r,n,s,u;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,n=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(u=s;u-- >0;)if(r[u]===e||r[u].listener&&r[u].listener===e){n=u;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],i(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}]},{},[7])(7));