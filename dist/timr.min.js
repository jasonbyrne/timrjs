/* TimrJS v0.6.1 | (c) 2016 Joe Smith | https://github.com/joesmith100/timrjs/blob/master/LICENSE */
;(function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t;else if("function"==typeof define&&define.amd)define("timrjs",[],function(){return t});else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,e.Timr=t}})(function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var a=n[s]={exports:{}};e[s][0].call(a.exports,function(t){var n=e[s][1][t];return i(n?n:t)},a,a.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=t("events"),c=t("./createStartTime"),a=t("./buildOptions"),l=t("./zeroPad"),h=t("./countdown"),p=t("./stopwatch"),m=t("./store").removeFromStore;e.exports=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this));return o.timer=null,o.running=!1,o.options=a(n),o.startTime=c(t),o.currentTime=o.startTime,o}return o(e,t),u(e,[{key:"start",value:function(){return this.running?console.warn("Timer already running"):(this.running=!0,this.startTime>0?this.timer=setInterval(h.bind(this,this),1e3):this.timer=setInterval(p.bind(this,this),1e3)),this}},{key:"pause",value:function(){return this.clear(),this}},{key:"stop",value:function(){return this.clear(),this.currentTime=this.startTime,this}},{key:"clear",value:function(){return clearInterval(this.timer),this.running=!1,this}},{key:"destroy",value:function(){return this.clear().removeAllListeners(),m(this),this}},{key:"ticker",value:function(t){if("function"!=typeof t)throw new TypeError("Expected ticker to be a function, instead got: "+("undefined"==typeof t?"undefined":s(t)));return this.on("ticker",t),this}},{key:"finish",value:function(t){if("function"!=typeof t)throw new TypeError("Expected finish to be a function, instead got: "+("undefined"==typeof t?"undefined":s(t)));return this.on("finish",t),this}},{key:"formatTime",value:function(){var t=this.currentTime,e=t/60,n=this.options.outputFormat,r=this.options.separator;if(e>=1){var i=e/60;return e=Math.floor(e),i>=1?(i=Math.floor(i),l(""+i+r+(e-60*i)+r+(t-60*e))):l(""+("HH:MM:SS"===n?"0"+r:"")+e+r+(t-60*e))}return l(""+("HH:MM:SS"===n?"0"+r+"0"+r:"MM:SS"===n?"0"+r:"")+t)}},{key:"percentDone",value:function(){return 100-Math.round(this.currentTime/this.startTime*100)}},{key:"setStartTime",value:function(t){return this.clear(),this.startTime=this.currentTime=c(t),this}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"isRunning",value:function(){return this.running}}]),e}(f)},{"./buildOptions":2,"./countdown":3,"./createStartTime":4,"./stopwatch":7,"./store":8,"./zeroPad":11,events:12}],2:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=function(t,e){switch(t){case"outputFormat":if("string"!=typeof e)throw new TypeError("Expected outputFormat to be a string, instead got: "+("undefined"==typeof e?"undefined":r(e)));if("HH:MM:SS"!==e&&"MM:SS"!==e&&"SS"!==e)throw new Error("Expected outputFormat to be: HH:MM:SS, MM:SS (default) or SS, instead got: "+e);case"separator":if("string"!=typeof e)throw new TypeError("Expected separator to be a string, instead got: "+("undefined"==typeof e?"undefined":r(e)))}};e.exports=function(t){var e={outputFormat:"MM:SS",separator:":"};if(t)for(var n in t)i(n,t[n]),e[n]=t[n];return e}},{}],3:[function(t,e,n){"use strict";e.exports=function(t){t.currentTime-=1,t.emit("ticker",t.formatTime(),t.percentDone(),t.currentTime,t.startTime,t),t.currentTime<=0&&(t.emit("finish"),t.stop())}},{}],4:[function(t,e,n){"use strict";var r=t("./timeToSeconds"),i=t("./validate");e.exports=function(t){return i(t),"number"==typeof t?t:r(t)}},{"./timeToSeconds":9,"./validate":10}],5:[function(t,e,n){"use strict";e.exports=function(t){return t.split(":").some(function(t,e,n){return 0>+t||+t>(3===n.length&&0===e?23:59)||isNaN(+t)})}},{}],6:[function(t,e,n){"use strict";var r=t("./Timr"),i=t("./store"),o=function s(t,e){var n=new r(t,e);if(e){if(e.store)return i(n);if(e.store===!1)return n}return s.store?i(n):n};o.validate=t("./validate"),o.timeToSeconds=t("./timeToSeconds"),o.incorrectFormat=t("./incorrectFormat"),o.store=!1,o.destroyAll=i.destroyAll,o.isRunning=i.isRunning,o.startAll=i.startAll,o.pauseAll=i.pauseAll,o.stopAll=i.stopAll,e.exports=o},{"./Timr":1,"./incorrectFormat":5,"./store":8,"./timeToSeconds":9,"./validate":10}],7:[function(t,e,n){"use strict";e.exports=function(t){t.currentTime+=1,t.emit("ticker",t.formatTime(),t.currentTime)}},{}],8:[function(t,e,n){"use strict";var r=[],i=function(t){return r.push(t),t};i.startAll=function(){return r.forEach(function(t){return t.start()})},i.pauseAll=function(){return r.forEach(function(t){return t.pause()})},i.stopAll=function(){return r.forEach(function(t){return t.stop()})},i.getAll=function(){return r},i.isRunning=function(){return r.filter(function(t){return t.isRunning()})},i.destroyAll=function(){r.forEach(function(t){return t.destroy()}),r=[]},i.removeFromStore=function(t){r=r.filter(function(e){return e!==t})},e.exports=i},{}],9:[function(t,e,n){"use strict";e.exports=function(t){return t.split(":").reduce(function(t,e,n,r){if(3===r.length){if(0===n)return t+60*+e*60;if(1===n)return t+60*+e}return 2===r.length&&0===n?t+60*+e:t+ +e},0)}},{}],10:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=t("./incorrectFormat");e.exports=function(t){if("string"==typeof t){if(0>+t||isNaN(+t)&&i(t))throw new Error("Expected time format (HH:MM:SS, MM:SS or SS), instead got: "+t)}else if("number"!=typeof t||isNaN(t))throw new TypeError("Expected time to be a string or number, instead got: "+("number"==typeof t?t:"undefined"==typeof t?"undefined":r(t)));if(+t>86399)throw new Error("Sorry, we don't support any time over 23:59:59 at the moment.");return t}},{"./incorrectFormat":5}],11:[function(t,e,n){"use strict";e.exports=function(t){return t.replace(/\d+/g,function(t){return 10>+t?"0"+t:t})}},{}],12:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,f,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],u(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,f=0;r>f;f++)c[f].apply(this,o);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,u;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(u=o;u-- >0;)if(n[u]===e||n[u].listener&&n[u].listener===e){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}]},{},[6])(6));